<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Smart Mall DApp</title>
  <style>
    body { background: #0a1a2f; color: #fff; font-family: Arial, sans-serif; padding: 20px; margin: 0; margin-bottom: 80px; }
    section { display: none; background: #162447; padding: 20px; margin-bottom: 20px; border-radius: 10px; border: 2px solid #21e6c1; }
    section.active { display: block; }
    h2 { color: #21e6c1; margin-bottom: 10px; }
    input, button, textarea { padding: 8px; width: 100%; margin-top: 10px; border-radius: 4px; border: none; }
    input, textarea { background: #1f4068; color: #fff; }
    button { background: #21e6c1; color: #0a1a2f; font-weight: bold; cursor: pointer; }
    .modal { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.6); align-items: center; justify-content: center; z-index: 999; }
    .modal-content { background: #fff; color: #000; padding: 20px; border-radius: 8px; max-width: 400px; width: 90%; }
    nav { position: fixed; bottom: 0; left: 0; right: 0; display: flex; background: #162447; border-top: 2px solid #21e6c1; z-index: 1000; }
    nav button { flex: 1; padding: 12px 0; background: #162447; border: none; color: #fff; font-weight: bold; cursor: pointer; }
    nav button.active { background: #21e6c1; color: #162447; }
    .date-tab-bar { display: flex; overflow-x: auto; border-bottom: 1px solid #21e6c1; padding-bottom: 4px; margin-bottom: 12px; background: #1b2c45; }
    .date-tab-bar button { flex: 1; min-width: 60px; background: transparent; border: none; padding: 8px 6px; color: #ccc; font-weight: normal; font-size: 14px; border-bottom: 2px solid transparent; cursor: pointer; white-space: nowrap; }
    .date-tab-bar button.active { color: #ffcc00; font-weight: bold; border-bottom: 2px solid #ffcc00; }
    .nft-item { border: 1px solid #21e6c1; border-radius: 8px; padding: 10px; margin-bottom: 12px; }
  </style>
</head>
<body>

<nav>
  <button onclick="showSection('home')" id="btn-home" class="active">ğŸ  Trang chá»§</button>
  <button onclick="showSection('session')" id="btn-session">ğŸ•’ PhiÃªn</button>
  <button onclick="showSection('nft')" id="btn-nft">ğŸ§¾ NFT</button>
  <button onclick="showSection('wallet')" id="btn-wallet">ğŸ’° VÃ­</button>
  <button onclick="showSection('profile')" id="btn-profile">ğŸ‘¤ ThÃ´ng tin</button>
</nav>

<section id="home" class="active">
  <h2>ğŸ“¢ ThÃ´ng bÃ¡o tá»« Admin</h2>
  <div class="marquee"><span id="admin-notice">ChÃ o má»«ng báº¡n Ä‘áº¿n vá»›i Smart Mall - Giao dá»‹ch thÃ´ng minh, cá»™ng Ä‘á»“ng bá»n vá»¯ng!</span></div>
</section>

<section id="session">
  <h2>ğŸ•’ PhiÃªn giao dá»‹ch</h2>
  <div class="date-tab-bar" id="sessionDateTabs"></div>
  <p>NgÃ y phiÃªn Ä‘Ã£ chá»n: <span id="selectedDateText">(chÆ°a chá»n)</span></p>
  <p>Thá»i gian phiÃªn: <b>12:00</b></p>
  <p>ÄÃ£ Ä‘Äƒng kÃ½: <span id="registeredCount">0</span></p>
  <p>ThÃ nh viÃªn dÆ°á»›i Ä‘Äƒng kÃ½: <span id="belowRegistered">0</span></p>
  <div id="registrationBox">
    <button onclick="showRegisterModal()">ÄÄƒng kÃ½ phiÃªn</button>
  </div>
  <div id="joinBtn" style="display:none">
    <button onclick="joinSession()">Tham gia phiÃªn</button>
  </div>
  <div id="products" style="display:none"></div>
</section>

<section id="nft">
  <h2>ğŸ§¾ NFT cá»§a tÃ´i</h2>
  <div id="nftTabs">
    <button onclick="showNFTTab('current')">Sáº£n pháº©m Ä‘Ã£ mua</button>
    <button onclick="showNFTTab('history')">Lá»‹ch sá»­</button>
  </div>
  <div id="nft-current"></div>
  <div id="nft-history" style="display:none"></div>
</section>

<section id="wallet">
  <h2>ğŸ’° VÃ­ SML</h2>
  <p>Sá»‘ dÆ°: <span id="walletBalance">1000000.00</span> SML</p>
  <button onclick="showDeposit()">Náº¡p</button>
  <button onclick="showTransfer()">Chuyá»ƒn</button>
  <button onclick="showWithdraw()">RÃºt</button>
  <div id="walletAction"></div>
</section>

<section id="profile">
  <h2>ğŸ‘¤ ThÃ´ng tin cÃ¡ nhÃ¢n</h2>
  <input id="username" type="text" placeholder="TÃªn (viáº¿t liá»n)" />
  <input id="phone" type="text" placeholder="Sá»‘ Ä‘iá»‡n thoáº¡i" />
  <input id="fullname" type="text" placeholder="Há» tÃªn Ä‘áº§y Ä‘á»§" />
  <input id="bep20" type="text" placeholder="Äá»‹a chá»‰ vÃ­ BEP20" />
  <button onclick="saveProfile()">LÆ°u thÃ´ng tin</button>
</section>

<div class="modal" id="registerModal">
  <div class="modal-content">
    <h3>Trá»« 20000 SML Ä‘á»ƒ Ä‘Äƒng kÃ½ phiÃªn</h3>
    <p>Sá»‘ dÆ° hiá»‡n táº¡i: <span id="modalWalletBalance"></span> SML</p>
    <input type="number" id="registerAmount" placeholder="Sá»‘ tiá»n dá»± kiáº¿n mua" />
    <button onclick="confirmRegister()">XÃ¡c nháº­n</button>
  </div>
</div>

<script>
function showSection(sectionId) {
  document.querySelectorAll('section').forEach(sec => sec.classList.remove('active'));
  document.getElementById(sectionId).classList.add('active');
  document.querySelectorAll('nav button').forEach(btn => btn.classList.remove('active'));
  document.getElementById('btn-' + sectionId).classList.add('active');
}

function showRegisterModal() {
  const modal = document.getElementById('registerModal');
  const balanceSpan = document.getElementById('modalWalletBalance');
  const walletBalance = document.getElementById('walletBalance').innerText;
  balanceSpan.innerText = walletBalance;
  modal.style.display = 'flex';
}

function confirmRegister() {
  const modal = document.getElementById('registerModal');
  const amountInput = document.getElementById('registerAmount');
  const registerAmount = parseFloat(amountInput.value);
  const balanceElement = document.getElementById('walletBalance');
  let balance = parseFloat(balanceElement.innerText);

  if (balance >= 20000) {
    balance -= 20000;
    balanceElement.innerText = balance.toFixed(2);
    alert("ÄÄƒng kÃ½ phiÃªn thÃ nh cÃ´ng vá»›i sá»‘ tiá»n dá»± kiáº¿n mua: " + registerAmount);
    modal.style.display = 'none';
    document.getElementById("registrationBox").innerHTML = '<p>ÄÃ£ Ä‘Äƒng kÃ½</p>';
    document.getElementById("joinBtn").style.display = 'block';
  } else {
    alert("KhÃ´ng Ä‘á»§ SML Ä‘á»ƒ Ä‘Äƒng kÃ½ phiÃªn. Vui lÃ²ng náº¡p thÃªm.");
  }
}
</script>

</body>
</html>
